# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: Bartek Pacia <barpac02@gmail.com>

pkgname='telegram-fhome-bot-bin'
pkgver=0.1.0
pkgrel=1
pkgdesc='Telegram bot for interacting with F&Home smart home devices'
url='https://github.com/bartekpacia/telegram-fhome-bot'
arch=('aarch64' 'x86_64')
license=('MIT')
provides=('telegram-fhome-bot')
conflicts=('telegram-fhome-bot')

source_aarch64=("${pkgname}_${pkgver}_aarch64.tar.gz::https://github.com/bartekpacia/telegram-fhome-bot/releases/download/v${pkgver}/telegram-fhome-bot_${pkgver}_linux_arm64.tar.gz")
sha256sums_aarch64=('cc672c6c8895673b6283e0487648279d5cac1626c11347dd5d4a93964921d29c')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/bartekpacia/telegram-fhome-bot/releases/download/v${pkgver}/telegram-fhome-bot_${pkgver}_linux_amd64.tar.gz")
sha256sums_x86_64=('bc08d9ba01a26afd0870b012c0f2d8c4b616d222ee3c444b5d19c67ec901de77')

package() {
  cd "$pkgname-$pkgver"
  # bin
  install -Dm755 telegram-fhome-bot "${pkgdir}/usr/bin/telegram-fhome-bot"

  # systemd service
  install -Dm644 telegram-fhome-bot.service "${pkgdir}/usr/lib/systemd/system/telegram-fhome-bot.service"

  # sysusers
  install -Dm644 telegram-fhome-bot.sysusers "${pkgdir}/usr/lib/sysusers.d/telegram-fhome-bot.conf"

  # config directory (empty, user creates config file)
  install -dm755 "${pkgdir}/etc/telegram-fhome-bot"

  # completions
  ./telegram-fhome-bot completion bash > completion_bash
  ./telegram-fhome-bot completion zsh > completion_zsh
  install -Dm755 completion_bash "${pkgdir}/usr/share/bash-completion/completions/telegram-fhome-bot"
  install -Dm755 completion_zsh "${pkgdir}/usr/share/zsh/site-functions/_telegram-fhome-bot"

}
